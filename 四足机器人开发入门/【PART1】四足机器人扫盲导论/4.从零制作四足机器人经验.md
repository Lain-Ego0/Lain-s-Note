# 四、从零制作四足机器人经验

## （一）机械设计
此部分在“三、足式机器人工程基础“的”四足腿部机械结构设计”已经叙述过，所以不再赘述。只补充一些踩过的坑。

### 1 关于轴承的使用

在25赛季的并联足式机器人设计中，我们采用了多种轴承来提高关节的性能和稳定性。具体来说，深沟球轴承被放置在小腿与大腿交界处的内侧，而推力滚子轴承则放置在大腿与小腿交界的平面处。这种设计旨在最大程度地减少连接处的摩擦，并增强其稳定性。

此外关于输出轴，特别是当电机存在销孔或减重孔时，建议使用尼龙打印或直接使用CNC制作嵌入销孔或减重孔的转接块，而不是直接用螺丝受力。因为螺丝在抗剪方面的性能较弱，无法承担关节电机输出轴固定的重任，这东西断在关节电机里基本就取不出来了。

<img src="RC足式机器人扫盲.assets/053eb74168d0cb157c5eff9fa5f5c716_720.jpg" alt="053eb74168d0cb157c5eff9fa5f5c716_720" style="zoom:25%;" />

晋中信息学院的神作。

我们也与其他队伍探讨了关节连接的方案。经过综合比较塞打螺钉被认为是一个相对合适的选择，能够在保证连接牢固的同时，便于拆卸和维护。

### 2 安装与运动取舍

在进行大腿结构设计时，单侧和双侧的选择直接影响机器人的运动能力。如果采用单侧板件连接，可以实现更大的运动范围，例如南方科技大学的设计，其机器人在负重5kg的情况下能够原地跳跃30厘米，这种灵活性显著增强了机器人的表现。双侧板夹的设计虽然增强了结构的稳定性，但在夹持小腿机构时可能会限制小腿的活动范围。这种设计虽然在快速标定方面有其优势，却可能导致机器人步高被限制在50mm以内，从而在越野赛中表现不佳，无法有效应对草坡和其他障碍，只能采用小跳跃的方式通过。

### 3 使用圆形碳管的设计问题

圆形碳管我不建议将其作为四足机器人的主要结构件。因为碳管通常会完全依赖于金属三通管夹和金属圆形方形管夹，这种设计会显著增加成本，毕竟一个金属三通管夹就要接近20R。为了节省成本，虽然可以考虑使用打印件管夹来固定碳管，但即便是尼龙碳管的整体结构也会显得相当不稳定。在我们的调试过程中，四足机器人甚至扭曲成了一个奇怪的平行四边形。尽管使用了铜柱进行加强固定，问题依然存在，管夹作为固定机构即使设计了贯穿孔进行定位，也难以保证稳定性。最终我们选择用两块5毫米的玻纤板对两侧的四根碳管进行死限位，从而解决了稳定性的问题。

当然也有一些相对较好的固定方式。例如，宁波工程的设计通过纵向板、侧向管的结构，再使用打印件+热熔螺母实现了管与板的固定，效果非常不错。

<img src="RC足式机器人扫盲.assets/mmexport0166bfd9a756118f72e8488c857b981d_1752515.jpeg" alt="mmexport0166bfd9a756118f72e8488c857b981d_1752515" style="zoom:15%;" />

另外，还有更为激进的方案，比如使用单根大圆形探管，类似于今年的太原工业设计。基于这种思路，我们也设计了一种极其激进的结构，基本上就是一个电机架子，整体结构件的重量控制在4.9千克。

<img src="RC足式机器人扫盲.assets/mmexportdc24d0b6d5cd76a35424596f72fde681_1752997.jpeg" alt="mmexportdc24d0b6d5cd76a35424596f72fde681_1752997" style="zoom:15%;" />

### 4 力矩需求问题

关于电机的力矩需求，我在前文中已经讨论了如何通过简单的力矩和力臂计算进行电机选型。在大多数情况下，使用trot步态进行计算是合适的，此时双足作为支撑态，并预留足够的冗余。显而易见，采用并联腿设计所需的力矩明显小于串联腿设计。因此，如果电机的性能无法满足使用要求，我建议采用并联腿设计，这对电控和机械结构都是有利的。

今年我们的串联腿使用了宇树关节电机，并结合同步带进行传动设计。这一方案可以完全移植到并联机器人的框架中，仅需调整计算方式。然而，我们遇到的问题在于由于力臂过长小腿关节电机的扭矩无法满足相应的使用要求，导致机器人只能勉强站立，一旦开始行走，后腿便会因电机扭矩不足而弯曲倒地，无法维持支撑。在进行电机选型之前，必须先设计整体结构，明确尺寸比例和具体长度，然后再确定电机的规格，并通过电机的TN曲线来选择合适的减速比。我们需要找到电机工作时的最高效率点或效率区间，通常在65%到75%之间。在这个效率区间内，寻找对应的电机扭矩，然后通过减速比将电机的扭矩放大，以满足我们通过力矩和力臂模型计算出的所需扭矩，并乘以冗余比例。这是我认为一种相对科学的关节电机选型和传动减速设计的思路。

### 5 限位的重要性

可以明确的是，无论是采用同步带机构还是平四边形连杆机构，在小腿伸缩到极限位置时，都必须设置机械限位装置。否则这些传动机构在超过极限位置时，容易发生解算多解导致关节卡死的问题。解决方案是在机器人外壳内部上——基本在大腿靠近膝关节处——增加一块凸起的限位板。如果采用减速器配合平四边形连杆机构，还应在减速器处设置凸起挡块。该挡块可以采用橡胶材料，也可以使用TPU，内部嵌入铜柱或者直接上铆钉（毕竟螺丝抗剪力弱），以提供一定的缓冲效果。

在小腿伸展过程中，凸轮盘带动连杆运动，当电杆顶端碰撞到凸起挡块时，挡块应发挥限制运动的作用，避免小腿伸展超过设计的死区范围。收回到极限位置时，小腿与大腿的弧线部分会重叠挤压，需注意避免极限位置的结构挤压导致损伤。

### 6 镂空问题与结构干涉

关于狗子的减重设计实际空间并不多。因为基斯的文档（[(12 封私信 / 8 条消息) 轻量化设计指南 - 知乎](https://zhuanlan.zhihu.com/p/466181447)）中已明确提到减重设计有两个主要方面：第一种是结构性的镂空，第二种是在结构设计无法避免的情况下进行的镂空。由于狗子的机械结构设计比较简单，目前已经基本趋于最优解，因此在大范围的结构性减重方面较为困难，更多的只能进行镂空。当然也有北科这种全CNC能硬控到13kg的怪物。

<img src="RC足式机器人扫盲.assets/mmexport92b263644e2dda44ea1ba2cebaafa677_1752339.jpeg" alt="mmexport92b263644e2dda44ea1ba2cebaafa677_1752339" style="zoom:15%;" />

另外，在SW计算和实际装配中，我们没有发现与螺丝干涉的问题。然而，在比赛中我们遇到了一些意外情况。一台宇树电机的输出轴出现了歪斜，导致在某些特殊受力角度下，并联狗的碳管小腿与管夹的固定螺丝发生了干涉。这一问题迫使我们降低了机器狗的爆发速度，最终在比赛中仅能以22秒的成绩完成。鬼知道为什么输出轴这东西能歪斜。所有可能出现干涉的地方都需要尽可能做好距离隔离，血的教训。

### 7 足式机器人足端设计

足端为了减少运动噪声并实现机械缓冲，可以采用中空框架结构，主体骨架材料可选用塑料或金属。这样既能保证主体结构具备刚性平台，又能设计较大面积的弧面，使机器人足底与地面接触时形成较大的接触面，提升站立稳定性，避免点接触引发的压力集中。

第一层缓冲可以使用橡胶、硅胶、TPU等弹性材料，实现足底的缓冲效果，且通过调整橡胶容器的尺寸和高度，可获得不同的性能。

|         | TPU 95A               | 橡胶皮（鞋底/车胎皮） | 硅胶  | 成品足端（例如铁蛋/宇树款）     |
|-----------------|------------------------|-------------------------|------------------------|--------------------------------|
| **抓地力**      | 干燥硬地≈0.6摩擦系数，湿滑地下降明显 | 湿滑地≈0.8，粗糙地面适配性强 | 干燥贴合地≈0.7，易吸油打滑 | 极优 |
| **缓冲减震**    | 中高。形变恢复快，适合13kg内小负载 | 中 | 高。但建议不超过15kg。 | 优 |
| **耐磨性**      | 中 | 高 | 差 | 高 |
| **成本（单足）**| 10元 | 裁剪≈5元 | 模具+材料≈50元 | 铁蛋50元一个，目前可能不好找货。宇树降价到190一套了，首推。内部结构还可以设计气压传感器。 |

另外，硅胶仅在干燥贴合地面表现好，例如赛场场地。若场景含湿滑地或粗糙地，需换橡胶皮或成品足端。TPU的抗冲击性远不如成品足端的结构化设计，落地时易出现足端开裂的情况，且不方便添加气压传感器。宇树的成品足端除了贵没有什么缺点，铁蛋足端除了买不到也没什么缺点（

## （二）关于电池

### 1 电池选型问题

#### 1.1 TB47S、TB48S 

大疆 TB47S 和 TB48S 为曾经大疆植保无人机的核心动力组件。TB47S 采用 6S LiPo 构型，容量 4500mAh，电压 22.2V，能量密度达 99.9Wh，重量 595g；TB48S 则升级至 5700mAh 容量与 22.8V 电压，能量提升至 129.96Wh，重量增至 680g。这两款电池均支持实时电压监测、压差控制以及缓启动。TB48S电池的放电持续25A，140A峰值，短路电流可达200A±10A，在如今的马术比赛还算够用。目前大疆已经停产此款电池，闲鱼价格在50至400元，100以下收到50健康度以上的都算赚。使用手册详见石总的帖子：[【分享帖】RM-大疆智能电池使用手册-RoboMaster 社区](https://bbs.robomaster.com/article/9289?source=4)

官网充电器在100元左右。有神奇的开源充电架[【RM2023-RM电池充电架机械开源】-RoboMaster 社区](https://bbs.robomaster.com/article/9331)

TB48S的电池架也已经停产，电池架铜片需要发加工，目前也有1688的可购买非标：

<img src="RC足式机器人扫盲.assets/qq_pic_merged_1760142629941.jpg" alt="qq_pic_merged_1760142629941" style="zoom:50%;" />

关于电池架设计可参考Robomaster开源论坛。[【分享贴】低成本通用电池架开源-RoboMaster 社区](https://bbs.robomaster.com/article/354231)[【分享帖】完全自制电池架结构开源-RoboMaster 社区](https://bbs.robomaster.com/article/9680)

<img src="RC足式机器人扫盲.assets/image-20251011001411300.png" alt="image-20251011001411300" style="zoom: 50%;" />

RM的新电池Matrice 4D电池的短路电流仅为85A±10A，与TB48SMOS管的安全工作区间不一致，其电池电池管理系统会设置较低的冲击电流保护门限，若反复超出MOS的安全工作区间会损坏MOS，进而出现电池关机后仍有输出等异常现象。马术比赛关节电机的反电动势基本靠电池硬吃，故此电池并不适合RC马术比赛[DJI Matrice 4D电池说明书及应用在RM比赛中的注意事项-RoboMaster 社区](https://bbs.robomaster.com/article/713040?source=4)<img src="RC足式机器人扫盲.assets/image-20251011001509886.png" alt="image-20251011001509886" style="zoom:50%;" />

#### 1.2 大功率软包航模电池

大功率软包航模电池以格瑞普等品牌为代表，凭借高倍率放电特性成为目前RC足式机器人比赛的首选动力方案。这类电池通常采用3S-6S构型，常见规格5200mAh容量，配合 30-60C持续放电能力，瞬时放电甚至可达100C以上。软包设计带来显著的重量优势，同等容量下比硬壳电池轻 10%-15%，如格瑞普 35C 磷酸铁锂软包电池能量密度超过 260Wh/kg，且通过叠片工艺降低内阻，在 45C 持续放电时仍能保持 93% 以上的效率。其循环寿命普遍在 150-300 次。形状定制灵活，不过物理防护较弱，建议制作电池仓保护。需严格控制充放电截止电压单节不低于 3.0V，适合短期高负载。

格瑞普算是航模电池里的苹果，好是好但是死贵，基本不虚标。富力、花牌也算很不错了。**放电电流（A）=（电池标称容量（mAh÷1000）×放电C数**，按照这个计算就行，害怕就按所有电机的峰值电流算。像疾风电池、狮牌之类的三线甚至杂牌电池默认虚标*0.6，快速放电会猛猛掉电压，优势在于便宜量大管饱。

<img src="RC足式机器人扫盲.assets/image-20251011001646180.png" alt="image-20251011001646180" style="zoom:33%;" />

#### 1.3 大功率18650/21700

比较经典的例子有新安能jp30、亿纬50PL系列。此类电池依托全极耳技术重构了高倍率与长寿命的平衡，成为了比传统软包航模电池能量密度更高、放电更稳定、体积更小的选择。jp30持续放电60A，峰值放电140A，6S大约100元左右；亿纬50pl持续放电125A，峰值放电180A,6S大约120元左右。这类电池支持灵活的串并联组合，例如6S可以使用3+3、1 * 6、2 * 3等排列，但需自行设计焊接与散热方案，适合对定制化需求较高的领域，其1000-1500次的循环寿命大幅降低长期使用成本。应该会在之后逐渐替代软包航模电池。目前淘宝、闲鱼也有接定制的商家。

<img src="RC足式机器人扫盲.assets/image-20251011001602390.png" alt="image-20251011001602390" style="zoom: 33%;" />

重量可参考以下图表。

<img src="RC足式机器人扫盲.assets/tb_image_share_1760068428790.jpg.png" alt="tb_image_share_1760068428790.jpg" style="zoom:33%;" />

#### 1.4 宇树GO1电池

宇树 GO1 电池有6000mAh/133.2Wh与9000mAh/199.8Wh两个版本，3C 倍率下 1.5 小时即可充满。电池可实现24A持续、120A峰值。目前是有第三方的电池转接方案，测试下能充能取。之后看看能不能也成为马术电池的选择之一。

<img src="RC足式机器人扫盲.assets/image-20251011001249663.png" alt="image-20251011001249663" style="zoom: 33%;" />

<img src="RC足式机器人扫盲.assets/mmexport1757679533708.jpg" alt="mmexport1757679533708" style="zoom: 25%;" />

### 2 电路保护问题

#### 2.1 TB47S、TB48S 

TB47S和TB48S是大疆工业级无人机电池，采用全集成式保护方案。内置专用保护板通过硬件电路与软件算法的协同，实现过充、过流、过放保护，同时具备短路保护、温度保护及电芯电压均衡功能。配合电池管理系统（BMS）实时监测电芯状态，动态调整充放电参数。高度集成的设计使其无需外置保护电路即可直接使用，使用起来更为方便可靠。

#### 2.2 大功率软包航模电池 

大功率软包航模电池自身几乎不具备保护功能，且软包结构抗物理损伤能力较弱，因此通常需要额外配置外置保护措施。

保险丝是常用的过流与短路保护装置，作为电池与负载之间的熔断屏障。航模电池常进行高倍率放电，正常工况下电流已较大。一旦出现电调故障、电机堵转、接线错误或导线短路等异常情况，电流会迅速飙升至远超设备承受范围。此时，保险丝因过载产生的热量迅速熔断，切断供电回路，避免烧毁电调、电机等关键部件，同时防止电池因持续过流导致电芯发热、鼓包，甚至发生热失控和起火。

空气开关也是一种有效的保护手段。其内部的双金属片在电路过载时受热变形触发跳闸，快速断开电路，能在电机堵转、电调故障或接线错误引发的瞬时大电流下切断电源，防止电池和电调损坏或热失控。与保险丝不同，空气开关跳闸后可手动复位，避免频繁更换部件，提升调试便利性。此外，部分型号的空气开关支持根据电机功率和电调参数预设跳闸电流阈值，更好地匹配不同倍率电池的放电需求。其灭弧结构能有效抑制切断大电流时产生的电弧，减少触点烧蚀。需要注意的是，紧急停止开关仍需单独配置以确保安全。另外，请记得购买**单路**的**直流**空气开关。

#### 2.3 大功率18650/21700电池 

大功率18650/21700电池的保护体系与大功率软包航模电池相同，不再赘述。

#### 2.4 宇树GO1电池

宇树GO1电池内置的保护机制涵盖过压、过流、过热、短路、过放和欠压防护，结合IP67级防水防尘壳体和弹性锁紧结构，确保供电的稳定性。当单节电芯的压差超过设定阈值时电池会自动启动均衡充电。宇树GO1无需额外的外置保护装置即可直接满足使用需求。在DJI TB48S停产且Matrice 4D电池无法满足使用要求的情况下，宇树GO1有望成为新的选择。

## （三）关于驱动器

### 1 如何挑选适合的足式关节驱动器

众所周知，电机的转子输出力通常通过太阳轮、行星齿轮组和齿圈组成行星传动单元，这是大多数机器人关节传动的标准方案。扭矩通过法兰盘输出。在高扭矩和冲击载荷的工况下，电机本体及内部零件常受到径向力和轴向力的冲击。因此，在条件允许的情况下，输出单元应采用薄壁交叉滚子轴承，以便将外部冲击力有效传递给滚子轴承，保护内部零件免受损害。（例如4310P、8009P）

如果没办法去一一购买电机进行测试，那我们其实也可用进行简易的选型：优先关注转速、扭矩、相电流与重量，以及最核心的额定扭矩与峰值扭矩。转速基本够用即可，即在额定状态下（狗的正常工作扭矩一般为3-5N，当然这是需要计算的）对照电机T-N曲线大约为100RPM左右就行。

二级减速电机可以使用吗？答案是可以的，但这里需要引出一个概念：准直驱。

2016年,MIT的Wensing等提出了准直驱执行器(PA,ProprioceptiveActuator)的概念，并将其应用于四足机器人Cheetah和双足机器人Hermes。准直驱执行器是不依赖力/力矩传感器，仅依靠电流环开环力控，就可以感知机器人和外界的交互力的一种执行器。准直驱执行器由高扭矩密度电机和低传动比减速器组成，传动比通常在**10：1**以下。使用高扭矩密度的电机的目的是为了在使用低传动比减速器的情况下，尽可能保证执行器质量小而输出扭矩大。

主要优势是 结构简单、成本低、透明度高、惯性小、带宽高。

- 结构简单、成本低。通过绕组电流解算电机扭矩，无需加装传感器。

- 高透明度，反驱性能好，缓解冲击的能力强。准直驱执行器不存在大减速比谐波减速器静摩擦力大，反驱困难，并且反驱时电流和输出力矩的关系难以进行数学建模的问题。

- 惯性小。低传动比减速器带来低惯性。低惯性能提高透明度和控制带宽。低惯性还意味着低阻抗。这有利于减少人形机器人运动的阻力。

- 带宽高。准直驱执行器也存在一些缺点：这种执行器在运行时会产生大量焦耳热，原因是减速器传动比小，电机输出扭矩大、速度低。扭矩大则所需的电流也大，而大电流会产生大量焦耳热。

另外，关于编码器。目前有大量的关节电机使用绝对值式编码器，并且其安装在永磁体转子上，即测量电机端的绝对位置。采用这样的单编码器方案极大地降低了整体驱动关节的实现成本。单编码器方案也会带来一定的缺陷，诸如在使用过程中，机器人在每次开机校准寻找关节输出零点时，必须保持特定的姿态，且初始位置需要远离零点，否则会出现跳变。所以在这里强烈推荐使用有双编码的电机。

除了准直驱执行器之外还有其他选择吗？我们这里简单列一个表展示。

| 特性       | 刚性执行器 TSA                  | 串联弹性执行器 SEA              | 并联弹性执行器 PEA              | 离合弹性执行器 CEA              | 多模态弹性执行器 MEA                | 可变刚度执行器 VSA                | 准直驱执行器 PA                  |
|------------|---------------------------------|---------------------------------|---------------------------------|---------------------------------|-------------------------------------|-----------------------------------|---------------------------------|
| 结构       | 电机+高传动比减速器+高刚性力矩传感器 | 电机+高传动比减速器+串联弹性体   | 电机+高传动比减速器+高刚性力矩传感器+并联弹性体 | 电机+高传动比减速器+弹性体+离合机构 | 电机+高传动比减速器+高刚性力矩传感器+串联弹性体+并联弹性体 | 电机+高传动比减速器+变刚度单元+力矩传感器 | 高扭矩密度电机+低传动比减速器   |
| 力矩测量方式 | 应变片原理或电流                | 编码器或应变片原理              | 应变片原理或电流                | 编码器或应变片原理              | 编码器或应变片原理                  | 应变片原理                        | 电流                            |
| 控制特点   | 简单、精度高                    | 复杂、精度低                    | 简单、精度高                    | 复杂、精度一般                  | 复杂、精度一般                      | 复杂、精度一般                    | 简单、精度一般                  |
| 能量效率   | 低                              | 一般                            | 高                              | 非常高                          | 非常高                              | 一般                              | 高                              |
| 安全性     | 差                              | 好                              | 差                              | 一般                            | 好                                  | 好                                | 好                              |
| 应用场景   | 精密系统，如精密机床、仪器仪表、传统双足机器人 | 安全性系统，协作机器人          | 非对称载荷或自支撑平衡系统      | 双足或四足机器人                | 兼顾功率、能量效率、安全特性的系统    | 安全性系统，协作机器人            | 四足机器人，小型双足机器人      |

*资料来源：《国内外双足人形机器人驱动器研究综述》、《面向柔顺关节的变刚度执行器设计与性能研究》，招商证券*

但大多数队伍是没办法考虑SEA等执行器的，因为价格实在太过于昂贵了。目前的主流成品关节电机也是使用PA为主。

这里有几篇文章可以可看看：

[(12 封私信 / 6 条消息) MIT Mini Cheetah的关节驱动器为何选用减速比为6的单级内嵌式行星减速器？ - 知乎](https://zhuanlan.zhihu.com/p/90921325)

[(14 封私信 / 21 条消息) MIT四足机器人关节驱动算法解析 | 编码器偏移与偏心率的校正 - 知乎](https://zhuanlan.zhihu.com/p/360556724)

[(14 封私信 / 21 条消息) MIT Mini Cheetah 的驱动与结构原理解读以及对尺寸效应的思考 - 知乎](https://zhuanlan.zhihu.com/p/58077049)

[(14 封私信 / 21 条消息) 对于腿足式机器人三类主流关节驱动器性能的对比讨论 - 知乎](https://zhuanlan.zhihu.com/p/32267807)

我们怎么知道电机需要多大的额定扭矩呢?最简单的方法是使用静力学分析。

让我们设想一只串联狗的侧视图。

它所受的外力就是地球对狗子的吸引力、地面对狗子的支撑力。取一条腿为例，假设受到地面的反作用了F，如果到第一个关节（hip）的力臂是L1，对它施加扭矩t1。到第二个关节（knee）的力臂是L2，对它施加扭矩t1。因为大部分时候足端正好处在肩部正下方，故第一个关节（hip）的力臂很短，电机几乎不用出什么力。第二个关节（knee）的力臂较长，电机要向外输出较大的力才能抵抗住地面反作用力作用在这个关节处上的扭矩，所以最核心的电机选型主要得围绕这个knee电机。按照简单的力矩力臂原理，以trot步态支撑（即双足支撑）整个身体的重量来计算，就可以计算出大致的电机负载，之后冗余个50%，就可以选电机了。

$$\tau_1 = F \times L_1$$

$$\tau_2 = F \times L_2$$

<img src="RC足式机器人扫盲.assets/v2-81740581d527389272bd4b746b4a6f11_1440w.png" alt="v2-81740581d527389272bd4b746b4a6f11_1440w" style="zoom:50%;" />



### 2 成品关节电机 

目前成品关节电机性价比较高的选择有：
- 灵足：RS01、RS02、RS03
- 宇树：GO-M8010-6
- 灯哥StackForce：6010、8018
- 大疆：3508
- 大然：PDA-04、PDA-08
- 达妙：4310V1.2/8006/8009/8009P

#### 成品关节电机参数对比表
| 电机型号                | 额定扭矩（N·m） | 额定转速（rpm） | 峰值扭矩（N·m） | 峰值电流（Apk） | 电机重量（g） | 编码器数量 | 价格（包含教育优惠） |
|-------------------------|----------------|----------------|----------------|------------------|--------------|------------|------------|
| 灵足 RS01（36V）      | 6              | 275            | 17             | 23              | 380          | 1          | 539.1 |
| 灵足 RS02（48V）      | 6              | 275       | 17             | 23              | 400        | 2          | 629.1 |
| 灵足 RS03（48V）        | 20             | 100         | 60          | 43              | 900          | 2          | 899.1 |
| 宇树 GO-M8010-6（24V）    | 3.7    | 约150 | 23.7        | 40   | 530         | 1          | 490   |
| 灯哥 Stackforce 6010（24V） | 5            | 120         | 11           | 10             | 160          | 1          | 329 |
| 灯哥 Stackforce 8018（24V） | 7.5          | 110         | 22           | 10            | 160          | 1          | 499   |
| 大疆 M3508（24V）         | 2.8        | 469        | 约10      | 20(实测10A就有可能烧) | 365+35     | 1         | 299+239（电机+电调） |
| 大然 PDA-04（48V）        | 4            | 377 | 11.6         | 12              | 390         | 1          | 599   |
| 大然 PDA-08（48V）      | 8            | 200 | 24           | 15.4            | 406         | 1          | 999   |
| 达妙 DM-J4310-2EC（24V） | 3.5          | 120           | 12.5       | 16             | 302        | 2          | 599 |
| 达妙 DM-J4310P-2EC（24V） | 3.5          | 120           | 12.5       | 16             | 325        | 2          | 699 |
| 达妙 DM-J8006-2EC（24V） | 8            | 120           | 20          | 21              | 559        | 2          | 800   |
| 达妙 DM-J8009-2EC（48V） | 20          | 200          | 40          | 40            | 896        | 2          | 1080  |
| 达妙 DM-J8009P-2EC（48V） | 20          | 200          | 40          | 40              | 921        | 2          | 1139  |

由于各个电机厂商对额定扭矩与峰值扭矩的界定都不同，所以以上表格仅供参考。

电机的T-N曲线（电机的T-N曲线比电机的参数表更加参考性）

- 灵足RS01

<img src="RC足式机器人扫盲.assets/image-20251010120737251.png" alt="image-20251010120737251" style="zoom: 33%;" />

- 灵足RS02

<img src="RC足式机器人扫盲.assets/image-20251010234520412.png" alt="image-20251010234520412" style="zoom: 33%;" />

- 灵足RS03

<img src="RC足式机器人扫盲.assets/image-20251010234600452.png" alt="image-20251010234600452" style="zoom:33%;" />

- 宇树GO-M8010-6（此处的RPM为转子速度而非输出轴，需要除以6.33）

<img src="RC足式机器人扫盲.assets/image-20251010234708925.png" alt="image-20251010234708925" style="zoom:50%;" />

- 灯哥StackForce6010

暂未获取

- 灯哥StackForce8018

暂未获取

- 大疆3508

<img src="RC足式机器人扫盲.assets/image-20251010235152874.png" alt="image-20251010235152874" style="zoom: 50%;" />


- 大然PDA-04

暂未获取

- 大然PDA-08

暂未获取

- 达妙4310/4310P

<img src="RC足式机器人扫盲.assets/dfa0f6b4001e16c8b7d825215f2bb98e.png" alt="dfa0f6b4001e16c8b7d825215f2bb98e" style="zoom: 67%;" />

<img src="RC足式机器人扫盲.assets/03917018ab19699f6b1f48d272825acc.png" alt="03917018ab19699f6b1f48d272825acc" style="zoom:67%;" />

<img src="RC足式机器人扫盲.assets/ba552c45c15e99dde0e38ad9f4beed32.png" alt="ba552c45c15e99dde0e38ad9f4beed32" style="zoom:67%;" />

<img src="RC足式机器人扫盲.assets/5db79453cb38146be7ec3653363b51c0.png" alt="5db79453cb38146be7ec3653363b51c0" style="zoom:67%;" />

- 达妙8006 

<img src="RC足式机器人扫盲.assets/24V 120RPM 8006电机性能曲线图.png" alt="24V 120RPM 8006电机性能曲线图" style="zoom: 20%;" />

<img src="RC足式机器人扫盲.assets/48V 120RPM 8006电机性能曲线图.png" alt="48V 120RPM 8006电机性能曲线图" style="zoom:20%;" />

<img src="RC足式机器人扫盲.assets/48V 240RPM 8006电机性能曲线图.png" alt="48V 240RPM 8006电机性能曲线图" style="zoom:20%;" />

- 达妙8009/8009P 

<img src="RC足式机器人扫盲.assets/48V 100RPM 8009电机性能曲线图.png" alt="48V 100RPM 8009电机性能曲线图" style="zoom:20%;" />

<img src="RC足式机器人扫盲.assets/48V 200RPM 8009电机性能曲线图.png" alt="48V 200RPM 8009电机性能曲线图" style="zoom:20%;" />

**对各家电机的个人主观评价：**

#### 2.1 灵足时代

灵足时代是福建理工大学MTI战队的冠名赞助商，为我们今年的Lainmal机器人提供了大量的RS00电机。在此感谢灵足电机的赞助。RS00电机不在本文的推荐范围中，是因为我们今年追求机器人的小型化和爆发性能做出了一定妥协，RS00的规格为4310，对机械设计并不算太友好，但正好适合用来修改tinymal使用。

灵足作为从小米独立出的公司，其通讯协议与小米cybergear电机相同，上手速度快。

灵足RS02是目前相对合适的四足关节电机，双编+较高的额定，全金属齿轮。不需要双编（机械设计上有设计初始位置快速标定的可以采用单编码器）可以选择RS01。RS03可以视为DM8009比较合适的平替，华南理工Robotic实验室四足、南京理工轮足就是使用这一款电机，反馈出色。这个价格与这个性能也没什么可挑剔的。

另外请务必关注电机的轴向受力。RS01/02是靠卡簧卡住的。这会导致轴向受力较弱，基本上把狗子单腿抓起来甩一甩就有风险了。

![2d8536588bc90b9aca890681c8a70e1d](RC足式机器人扫盲.assets/2d8536588bc90b9aca890681c8a70e1d.jpg)

#### 2.2 宇树科技
宇树GO-M8010-6（后续统称GO1电机）是一款让我又爱又恨的电机。GO1电机使用的并不是在GO1机器人上使用的固件，属于零售，若想使用GO1机器人的拆机电机需要通过一些特殊手段零售版固件。GO1电机一直有流传缩水的说法，但在硬件上并没有什么缩水，主要是零售版在部分功能上存在缺失。内部为绝对值单编码器，减速器为尼龙齿轮而非金属齿轮——这一点及其逆天，我使用的GO1电机基本在3个月内都会出现一定的虚位，更有队伍在比较激进的调试下出现了齿轮断裂的问题。其次，宇树GO1电机的零售版本存在普遍反馈的上电自动进入工厂模式问题，怀疑是电压峰值超过了30V导致电机进入保护。处理方法为查询ID检查驱动板死活，查不到ID一般就直接发售后了。能查到ID就反复开启自动引导测试，一般3次内可以救回来。

关于宇树螺丝：GO1电机转子固定螺丝为M4 * 14，内收GO定子固定螺丝为M3.5 * 8，外凸GP定子固定螺丝为M3.5 * 6，暂未找到把被破坏的GO螺纹孔扩紧的方法。3.5mm的螺丝更是逆天中的逆天，我不知宇树的结构工程师为什么要选型3.5mm的螺丝（摊手）。根据加工图数据，转子固定孔位深度为M4 * 6，对角间距34.5mm。内收定子固定孔位深度为5.7mm。外凸定子固定孔位深度为4.5mm，对角间距85mm。

当然，宇树电机现在依然受到大量队伍的青睐。其一是因为其仅仅490元的学生售价，其次是因为宇树GO1电机极其可怕的爆发。以及宇树为485通讯，可以使用TTL转高速485（4M以上）通讯，甚至可以在位置控制下一个串口拖十二个电机，对控制器的资源占用相当少，不像其他电机动不动3到4个can口，个人认为在代码实现难度上是比canfd好写的。

<img src="RC足式机器人扫盲.assets/Image_1001133111698200.jpg" alt="Image_1001133111698200" style="zoom:33%;" />

山东科技老哥的激进测试，整机重量12.5kg

#### 2.3 灯哥Stackforce
不推荐使用。但如果经费不够可以上6010凑合——毕竟都329给你了还要什么自行车。这不是一款完善的工业产品，个人建议将其视为DIY的产品，不要对其易用性以及性能有太大期望，其背板甚至是使用3D打印的。根据使用队伍的反馈其力反馈数据存在问题，不清楚是代码原因还是电机原因。其主控为ESP32，算法为dengfoc。比较有趣的一点是，329的价格甚至比去江西伺泰威电机厂购买电机壳子还便宜，不过比不上去闲鱼买淘汰品就是了。也就是说可以把它视为买电机壳子送驱动板，买来自己拆板子换驱动器作为自制电机使用。

#### 2.4 DJI

作为每个Robocon/Robomaster队伍都有的电机，3508在25赛季依然证明了它的含金量。西南科大的3508dog依然可以实现1分钟半的障碍赛速通。但是3508的输出轴是天然不适合作为关节电机的——顶丝固定的可靠性实在欠佳。新队伍没3508就不要考虑了，直接上关节吧。

#### 2.4 大然机器人

大然的电机库使用容易，资料丰富，软件支持好，做工优秀，除了价格小贵之外没有什么缺点。

2025/10/12更新 PA-04在升级后有两个版本，可以考虑。

#### 2.5 达妙科技

达妙科技发来贺电。

达妙的电机本体并不算是非常好（对比因克斯、CubeMars等厂商），但达妙一定是目前开源生态、产品资料、技术支持最好的电机。另外，达妙的产品基本全系反向虚标（尤其转速）。三款最合适马术的电机8006、8009、8009P在降价后叠加教育优惠，分别杀到了800和1000价位。非常推荐。4310、4340更适合机械臂而非足式，在此不做推荐。

2025/10/11更新，4310升级了V1.2，能用力。8006的升级版也即将推出。

### 3 舵机 

其实当你选择了舵机时，国二基本就无缘了。需要拿奖和学校混钱/学校实在不支持可以考虑舵机方案。

舵机分为PWM舵机、总线舵机，以及部分支持力控的舵机。支持力控的舵机价格往往极其昂贵，还不如买电机。

**记得选择180度的**

#### 3.1 PWM舵机

| 参数项       | MG90S/MG90        | MG995/MG996R      | TD-81系列（以25MG版本为例）                         |
| ------------ | ----------------- | ----------------- | -------------------------------------- |
| 产品型号     | MG90S/MG90        | MG995/MG996R      | TD-8125MG舵机           |
| 产品重量     | 13.6G             | 55G               | 56g±5%                                 |
| 工作扭矩     | 2.0KG（4.8V）| 13KG/CM           | 堵转扭力：23.5kg.cm（4.8V）、26.8kg.cm（7.2V） |
| 反应/空载转速 | 0.11S（4.8V）| 53-62R/M          | 空载转速：0.18sec/60°（4.8V）、0.14sec/60°（7.2V） |
| 死区设定/宽度 | 5 usec              | 4 usec              | 5 usec                       |
| 使用电压     | 4.8V              | 3-7.2V            | 4.8V / 7.2V                            |
| 工作电流     | 100mA                 | 100mA             | 空载电流：140mA（4.8V）、200mA（7.2V）；堵转电流：2600mA±10%（4.8V）、3400mA±10%（7.2V） |
| 结构材质     | 空心杯电机        | 部分铜齿、空心杯电机 | 全金属齿、碳刷马达                                      |
| 脉冲宽度     | 500～2500usec     | 500～2500usec     | 500～2500usec                          |
| 中点位置     | 1500usec         | 1500usec         | 1500usec                               |

**MG90S：**分有全金属与半金属版本，全金属版本10R左右，半金属版本基本只在闲鱼有，在性能差不多的情况下将内部的部分齿轮更换为了尼龙齿轮降低成本，推荐后者。可以直接使用的项目有：

白泽六足：[Baize_H1mini: Baize_H1mini六足机器人是一个创客学习平台，通过该学习平台，可以学习mixly图形化编程，Arduino平台的C语言编程，ROS机器人编程，也可以学习一些传感器的控制。 在Baize_H1mini中，我们摒弃传统的开发板+舵机驱动板的方式。开发板+舵机驱动板的方式一方面集成度不高，杜邦线接线麻烦且可靠性差；另一方面，集成板降低了电器元件的成本，让机器人制作更加方便。](https://gitee.com/li9535/baize_-h1mini)

灯哥菠萝狗：[GitHub - ToanTech/py-apple-structure: 灯哥开源的，可用于搭载 Py-Apple Controller 控制器和 Py-Apple Dynamics 四足控制软件的机械结构项目。目前包含有两种构型的机器狗（串联腿/并连腿），均可完美适配现有开源程序。机械结构经过长时间生产认证，结构稳定，安装简易。](https://github.com/ToanTech/py-apple-structure)

SG90、SG92R太容易烧了，不推荐。

**MG995/MG996R：**非常经典的55g舵机，都这个价格了当兜底吧。也挺容易烧的。

**天空之星TD81系列：**性价比比较高的的全金属PWM舵机，不止这一款可以用就是。

#### 3.2 总线舵机

**优必选60kg总线：**

<img src="RC足式机器人扫盲.assets/image-20251012121413697.png" alt="image-20251012121413697" style="zoom:50%;" />

优点：支持18V-24V供电、CAN总线通讯、闲鱼只要80R、有自带控制板、有上位机（甚至支持图形化编程）、最多支持32个串联。目前这个价位应该是没有更合适的驱动器了。

以下协议图来自知乎作者[(14 封私信 / 26 条消息) XieMaster - 知乎](https://www.zhihu.com/people/nie-tie-75)

<img src="RC足式机器人扫盲.assets/v2-3d728d7afaf7c20dc6d39903878bad98_1440w.webp" alt="img" style="zoom: 33%;" />

<img src="RC足式机器人扫盲.assets/v2-0a3696b0d3373128d5f7968060ed262c_1440w.webp" alt="img" style="zoom: 33%;" />

<img src="RC足式机器人扫盲.assets/image-20251012121839467.png" alt="image-20251012121839467" style="zoom:50%;" />

缺点：优必选已经倒闭了，没有如何官方技术支持、没有售后也不好开发票。

下图为配套的舵机盘。

<img src="RC足式机器人扫盲.assets/image-20251011114901449.png" alt="image-20251011114901449" style="zoom: 50%;" />

如果需要开票也可以选幻尔的总线舵机，当然价格上就没有那么美丽了。

### 4 自制驱动器

教程可以参考:[SimpleFOC、ODrive和VESC 教程链接汇总_odrive和simplefoc哪个好-CSDN博客](https://blog.csdn.net/loop222/article/details/121201638)

SimpleFOC、ODrive和VESC是可以视为开源电机控制领域的三个代表性方案。下面简单介绍一下以便选型。

| **维度**         | **SimpleFOC**                                                | **ODrive**                                                   | **VESC**                                                     |
| ---------------- | ------------------------------------------------------------ | ------------------------------------------------------------ | ------------------------------------------------------------ |
| **定位**         | 开源电机控制**库**                                           | 高性能开源电机控制器，支持多轴同步和闭环控制。               | 开源高性能电机控制器，专为电动车辆（如电动滑板）和大功率设备设计。 |
| **核心技术特性** | 支持无传感器/有传感器FOC<br>兼容Arduino、ESP32。<br>电流环频率2-50kHz。<br>无内置保护机制，需自行实现。 | 内置编码器接口、功率驱动电路和保护模块。<br>位置/速度/扭矩三闭环<br>支持USB、UART、CAN通信。<br> | 功率支持极高（可达）<br>支持无感FOC、HFI高频注入、Silent HFI。<br>支持PPM、模拟量、UART、CAN。 |
| **典型硬件成本** | 总成本：50-200元                                             | 160元左右，加电机壳子约350-400（也就是直接购买伺泰威电机的减速器部分或者小米铁蛋的减速器部分）。<br>若不需要修改固件目前建议直接在创客基地购买。 | 350-400元左右（不包括电机）。<br/>若不需要修改固件目前建议直接在创客基地购买。 |
| **体积与散热**   | 体积小，无独立散热需求。                                     | 适合中等空间（约100mm×50mm）<br/>建议搭配散热片              | 功率与体积基本成正比，需要空间较大<br/>需额外散热片          |
| **开发难度**     | 模块化代码+图形化配置工具<br>仅需基础MCU编程知识。           | 开发环境搭建比较麻烦，需熟悉Python API和参数调优。<br>支持命令行和GUI调试。 | 相对麻烦。<br>VESC Tool功能强大但界面复杂。                  |
| **生态与社区**   | 中文教程多。<br>工具链为Arduino IDE、PlatformIO。            | odrivetool支持实时监控和参数保存，相当完善。<br>论坛和GitHub案例丰富，商业化较好。 | 第三方项目（如电动滑板改装）多，深圳很多做电驱的小厂就是直接抄的这个方案<br>固件更新活跃。 |
| **通信接口**     | 依赖MCU<br>无内置CAN。                                       | USB、UART、CAN、部分支持CAN-FD。<br>支持多轴同步通信。       | PPM、模拟量、UART、CAN、USB。<br>部分方案支持无线控制。      |
| **保护机制**     | 无内置保护，需自行实现过流、过热保护。                       | 内置过流、过热、欠压保护。                                   | 内置过流、过热、欠压保护。但对MCU基本无保护，很容易穿。      |

其实基本可选的就SimpleFOC、ODrive两个方案，可按照功率大小选择。VESC方案不适合关节电机。之前也只玩过成品的驱动器，不多妄加评价了。

## （四）通讯方案

### 1 关于CAN与485通讯
#### 1.1 CAN总线特点：
1.传统CAN2.0比较常用的为500Kbps，最大传输速率为1Mbps。仲裁比特率最高1Mbps，数据比特率最高8Mbps
2.多主结构，每个节点的地位平等，区域网络组建方便，总线的利用率也非常高。
3.出错的CAN节点会自动进行关闭并切断和总线的联系，不影响数据总线的通讯。
4.消息用于短帧结构和硬件CRC验证，干扰概率小，数据误差率很低。
5.自动检测消息是否发送成功，硬件可以自动重传，传输可靠性极高。
6.通信可以采用于普通双绞线、同轴电缆及光纤等。

#### 1.2 RS485特点:

1.RS-485电平与TTL电平可以兼容，可方便与TTL 电路系统连接。
2.RS-485的最大数据传输速率为**10 Mbps**。
3.rs-485具有多站能力，但在任何时候 rs-485总线上只能发送一个发射器。
4.rs-485接口具有良好的抗噪声性能、较长的传输距离和多站通信能力，是最佳的串行接口。
5.RS485接口一般为三根线，但一般只需要两根线即A、B，所以建议RS485接口采用屏蔽双绞线传输。

#### 1.3 CAN总线与RS485的比较（比赛场景内）
1.**总线的利用率**：RS485是单主从结构，即**总线只能有一个主机**，通信由主机发起，主机没有命令，下节点无法发送，并发送完即回，接收回复后，主机到下一个节点查询，以防止多个节点向总线发送数据，并导致数据混乱。而 CAN是一个**多主机结构**，每个节点都有 CAN 控制器，多个节点发送，发送 ID 号自动仲裁，这样可以防止总线数据混乱，而一个节点发送，另一个节点可以检测总线怠速，并立即发送，从而节省主机的查询，提高总线利用率，提高速度。。
2.**错误检测机制**：**rs485只提供物理层，而不提供数据链路层**，因此它无法识别错误，除非发生某些短路等物理错误。这很容易造成一个节点的破坏，疯狂向总线发送数据 ，这样会导致整个总线瘫痪。所以 rs485只要损坏一个节点，总线网络就会全部中断，这可能就是宇树疯狗的原因。但是**can总线有CAN控制器**，可以对总线进行检查任何错误，如果自身错误超过128，就会通过自动闭塞来保护总线。如果检测到另一个节点错误或其自身的错误，则向总线发送错误帧，以提醒其他节点数据是错误的。如此CAN总线就算一个节点跑飞，就会通过控制器自动锁定来保护总线。
3.**接口特性**：在RS-485网络中，当系统出现错误，出现多节点能够同时向总线发送相关数据时，导致服务总线呈现短路，从而造成损坏某些重要节点的现象。而且CAN节点在错误严重的情况下发展具有自动关闭输出管理功能，以使总线上其他节点的操作过程中不会受到波及，从而得到保证不会出异常在网络中，因个别节点之间出现这些问题，使得总线处于“死锁”状态。
4.**协议完善度**：CAN具有完善的通信协议，可由CAN控制器芯片及其接口芯片实现，大大降低了系统开发难度，缩短了开发周期，这是只有电气协议的RS485无法比的。 

所以，能用can还是用can吧。

#### 1.4 关于终端电阻

在我们查看宇树电机/3508电机等基于485/can总线通讯协议的电机技术手册时，常常看到一个词：终端电阻。这到底是什么？有什么用？

<img src="RC足式机器人扫盲.assets/image-20250314142600681.png" alt="image-20250314142600681" style="zoom:50%;" />

<img src="RC足式机器人扫盲.assets/image-20250314143216700.png" alt="image-20250314143216700" style="zoom:50%;" />

仿佛在通讯链路的首末两端加上这样一个法宝，即可避免信号的反射，使信号的传播更为顺畅。但终端电阻的作用是消除信号反射，但其实并不是所有情况都需要终端电阻，有时终端电阻反而会影响信号质量。

##### 1.4.1 CAN总线

CAN总线中，终端电阻是必不可少的。在显性状态期间，总线的寄生电容会被充电，而在恢复到隐性状态时，这些电容需要放电。如果CANH、CANL之间没有放置任何阻性负载，电容只能通过收发器内部的差分电阻放电。同时，信号在较高的转换速率情况下，信号边沿能量遇到阻抗不匹配时，会产生信号反射；传输横截面的几何结构发生变化，线缆的特征阻抗会随之变化，也会造成反射。在总线线缆的末端，阻抗急剧变化导致信号边沿能量反射，总线信号上会产生振铃，若振铃幅度过大，就会影响通信质量。在线缆末端增加一个与线缆特征阻抗一致的终端电阻，可以将这部分能量吸收，避免振铃的产生。

<img src="RC足式机器人扫盲.assets/image-20251010235456892.png" alt="image-20251010235456892" style="zoom:50%;" />

CAN总线无终端电阻

<img src="RC足式机器人扫盲.assets/image-20251010235516722.png" alt="image-20251010235516722" style="zoom:50%;" />

CAN总线增加终端电阻

##### 1.4.2 485总线

485总线设置终端电阻主要是为了用来抑制信号的反射。提高信号质量组建RS-485总线网络时，通常使用特性阻抗为120Ω的屏蔽双绞线，由于RS-485收发器输入阻抗一般较高，在信号传输到总线末端时会由于受到的瞬时阻抗发生突变，导致信号发生反射，影响信号的质量。

终端电阻虽然可以提高信号质量，但还具有以下几个问题：

1.降低了驱动信号的幅值

2.RS-485总线上的负载越大，RS-485收发器输出差分电压幅值越低

3.增加终端电阻使通信线缆上的电流增大，产生了较大的压差，降低了接收端的信号幅值。RSM485ECHT在1200m,115.2kbps首端和末端的信号波形如下图所示（0.75mm2通信线），末端信号与首端信号相比下降了0.7V左右。

4.增加终端电阻对于接收状态时的工作电流影响不大，但会大大增加驱动状态时的工作电流。以RSM485ECHT为例，RSM485ECHT处于接收状态时工作电流为20mA左右，在驱动状态不加终端电阻时工作电流为27mA左右，在驱动状态加终端电阻时工作电流为83mA左右，可以看出终端电阻大大增加了RS-485收发器的功耗，对于有功耗要求的应用场合，应谨慎使用终端电阻。

我们可以简单概括：通信速度低或者通信距离近的情况下建议不加终端电阻。通信速度低或者通信距离近的情况下，信号反射对通信信号的影响不大，而且不加终端电阻可以大大降低功耗，并且通过加较大上下拉电阻值即可保证RS-485总线空闲时具有较高的差分电压幅值。通信距离较长且通信速度较快，对信号质量要求较高的情况，可以增加终端电阻，防止阻抗突变引起的信号反射问题，提高信号质量，但应确保在总线空闲时总线的差分电压不处于门限电平范围内。

##### 1.4.3 总结

对于CAN总线而言，为保证通讯的稳定性，必须增设终端电阻；RS-485总线不一样。终端电阻的设置需要根据情况而设置，在设计建议预留终端电阻位置，能有效解决总线干扰、通信异常等问题。

### 2 通讯方案设计

关节电机控制通讯方案的核心差异源于控制逻辑的集中程度，据此可划分为**全上位机控制方案**与**下位机控制方案**两大类。

####  2.1 全上位机控制方案

全上位机控制方案的核心特征是采用具备引脚直出能力的MPU开发板或小主机作为控制核心，所有电机控制指令生成、数据处理均由上位机完成，通讯链路仅负责指令下发与状态回传。根据硬件形态差异，具体分为以下两类：

##### 2.1.1 MPU 开发板引脚直出方案

该方案直接利用 MPU 开发板的硬件接口扩展通讯能力，适用于对成本敏感且实时性要求中等的场景。

（1）CAN/CANFD 接口方案

部分开发板有自带can，例如OrangePi5。这种情况下将控制板上的CAN引脚引出即可。

关于接口启动：[香橙派Orange Pi 5 Plus启用UART/I2C/SPI/PWM/CAN的方法_香橙派 overlays-CSDN博客](https://blog.csdn.net/C___programmer/article/details/135604913)

<img src="RC足式机器人扫盲.assets/image-20251012133155397.png" alt="image-20251012133155397" style="zoom:50%;" />

（2）TTL 转 485 接口方案

华杰工控可能是目前最合适的ttl转485的选择。即插即用。

<img src="RC足式机器人扫盲.assets/image-20251012140734860.png" alt="image-20251012140734860" style="zoom:33%;" />

（3）SPI 扩展 CAN 接口方案

此方案最知名的就是MIT Cheetah的SPINE。此部分转接可以购买达妙的成品SPINE模块（虽然和官方的原版固件略有不同），但个人更推荐自制。喵魔改之后在部分成品狗的零件替换上是不可用的。

2025/10/12更新：喵似乎没卖了？

##### 2.1.2 NUC/小主机拓展方案

该方案利用 NUC 或小主机的高性能计算能力和丰富接口，适用于对实时性、扩展性要求极高的复杂系统。目前的主流机器人都是使用这类方案。主控上可以使用N100、RK3588、RK3566等。如果是考虑强化部署的话其实不用太忧虑性能，RK3588一个大核就够跑满了。

（1）USB/PCIE转通讯接口方案

以下是我用过的一些方案：

- 赤乌科技

做了板载的小主机供电集成、电机供电集成、USB转4路can和3路485，除了外观不怎么优雅之外没什么问题。另外一点是我个人其实挺排斥将大功率供电和信号接在一个板子上的，更何况还直连着主机供电。

评价为自带小米、灵足通讯例程的轮椅方案，可以考虑。

<img src="RC足式机器人扫盲.assets/image-20251012145637361.png" alt="image-20251012145637361" style="zoom: 50%;" />

- 达妙USB转CAN/CANFD

<img src="RC足式机器人扫盲.assets/image-20251012143716908.png" alt="image-20251012143716908" style="zoom:67%;" />

<img src="RC足式机器人扫盲.assets/image-20251012143658216.png" alt="image-20251012143658216" style="zoom:67%;" />

适合搭配达妙电机使用，极其方便。且使用CANFD版本也解决了之前十二自由度四足需要占用4个USB口的痛点（一般是添加一个USB2.0HUB解决）

2025/10/12更新：达妙新品 EtherCAT USB Ethernet 转4路CANFD 将在10月末上线。

<img src="RC足式机器人扫盲.assets/bd6921794d67e8ff72a8d208dae805ea_720.jpg" alt="bd6921794d67e8ff72a8d208dae805ea_720" style="zoom:25%;" />

- 灵足/yourbee USB转CAN

与达妙同理，但不知道为什么达妙的USB转CAN无法驱动灵足电机（可能是我的程序问题），在此作为补充。

![image-20251012144210094](RC足式机器人扫盲.assets/image-20251012144210094.png)

<img src="RC足式机器人扫盲.assets/image-20251012144003973.png" alt="image-20251012144003973" style="zoom:67%;" />

- DingLAB USB转两CAN/CANFD方案

<img src="RC足式机器人扫盲.assets/image-20251012144910752.png" alt="image-20251012144910752" style="zoom:67%;" />

提及这一款产品是因为唐佬开源了一套电机通讯方案，基本覆盖了常用电机，

灵足：[SOULDE-Studio/USB2CAN-Demo-Lingzu: An project based on USB2CAN and RobStride motor.](https://github.com/SOULDE-Studio/USB2CAN-Demo-Lingzu)

达妙：[SOULDE-Studio/USB2CAN-Demo-DM: An project based on USB2CAN and DM motor](https://github.com/SOULDE-Studio/USB2CAN-Demo-DM)

CubeMars：[SOULDE-Studio/USB2CAN-Demo-CubeMars: An project based on USB2CAN and CubeMars motor](https://github.com/SOULDE-Studio/USB2CAN-Demo-CubeMars)

非常轮椅，强烈推荐。

（2）EtherCAT 方案

可能一部分读者对EtherCAT是没什么概念的，可以先看看这个视频。[EtherCAT玩起来_哔哩哔哩_bilibili](https://www.bilibili.com/video/BV1ejKqzZExN/?spm_id_from=333.337.search-card.all.click&vd_source=193a56b6f00b33090010ba20d05cfef7)

文档：[EtherCAT (学习笔记)-CSDN博客](https://blog.csdn.net/pwl999/article/details/109397700)

EtherCAT最大的优势在于其极高的实时性，在工业控制中非常成熟，目前随着人形机器人的热潮，大量关节电机也开始有了加入了EtherCAT协议。

要完成一套通讯系统构建我们需要：支持EtherCAT协议的伺服驱动器、支持Linux的EtherCAT主站、实时内核补丁、ROS版本Noetic。

但有一点我挺好奇的，上位机一般为Linux主机，EtherCAT相比高速485、canfd的优势就在于其实时性，但极致优化的Linux才能做到高实时性，不用优化的RTOS就能做到ns级实时性。目前我似乎还是没发现在四足、人形上使用EtherCAT的优势。

####  2.2 下位机控制方案

下位机通讯一般就使用开发板的can/ttl转485/开发板485直出即可。例如达妙H7开发板就有板载的485口，大部分在RC/RM生态内的开发板也基本有板载can口，基本就看你在MCU应用层的实现了。

<img src="RC足式机器人扫盲.assets/image-20251012142953118.png" alt="image-20251012142953118" style="zoom:50%;" />

另外补充：位控、VMC使用大疆A板、大疆C板、达妙F446、达妙H7算力都是足够的，单纯位控甚至可以使用F1。当然VMC力控的控制频率越高效果越好，更推荐使用RK3566这种便宜的Linux小板。至于MPC这鬼东西就相当吃算力了，建议使用NUC，MIT方案的N4200基本是算力的底线了，MCU跑MOC还是太勉强了。

# 参考文献/网络资料（不完全）

1.[(13 封私信 / 16 条消息) 宇树腿部连杆结构 - 知乎](https://zhuanlan.zhihu.com/p/559949676)

2.[(13 封私信 / 16 条消息) 足式机器人电机扭矩计算&简单选型 - 知乎](https://zhuanlan.zhihu.com/p/572461530)

3.[2019 ROBOCON“快马加鞭”](http://cnrobocon.net/h-col-164.html)

4.[(13 封私信 / 16 条消息) 【短文】MIT Mini Cheetah 的关节单编码器方案 - 知乎](https://zhuanlan.zhihu.com/p/100422363)

5.[(13 封私信 / 16 条消息) 【干货|开源MIT Min cheetah机械狗设计(一)】|系统方案及硬件解析 - 知乎](https://zhuanlan.zhihu.com/p/636011441)

6.[(14 封私信 / 23 条消息) 足式机器人电机扭矩计算&简单选型 - 知乎](https://zhuanlan.zhihu.com/p/572461530)

7.[(31 封私信 / 8 条消息) 开源 NMPC-WBC 足式机器人控制框架： legged_control - 知乎](https://zhuanlan.zhihu.com/p/567381895)

8.[qiayuanl/legged_control: NMPC, WBC, state estimation, and sim2real framework for legged robots based on OCS2 and ros-controls](https://github.com/qiayuanl/legged_control)

9.[(27 封私信 / 20 条消息) 超越MIT Mini-Cheetah 的四足机器人开源项目（Quad-SDK）！ - 知乎](https://zhuanlan.zhihu.com/p/522218252)

10.[robomechanics/quad-sdk: Software tools for agile quadrupeds, developed by the Robomechanics Lab at Carnegie Mellon University.](https://github.com/robomechanics/quad-sdk)

11.[(27 封私信 / 21 条消息) RL做足式机器人运控的经典必读文章（带私货） - 知乎](https://zhuanlan.zhihu.com/p/29806809248)

12.[hku-mars/FAST_LIO: A computationally efficient and robust LiDAR-inertial odometry (LIO) package](https://github.com/hku-mars/FAST_LIO)

13.[(27 封私信 / 21 条消息) 详细解说CAN总线和RS485的特点及优点和缺点的对比 - 知乎](https://zhuanlan.zhihu.com/p/361742042)

14.[CAN与RS485:深入原理及应用对比分析-电子工程专辑](https://www.eet-china.com/mp/a292364.html)

15.[(45 封私信 / 20 条消息) 【开源】助力RoboCon马术比赛-国产GhostRobotics Minitaur机器人升级版 - 知乎](https://zhuanlan.zhihu.com/p/546507212)

16.[(46 封私信 / 19 条消息) 强化学习如何使足式机器人利用数据学会行走 - 知乎](https://zhuanlan.zhihu.com/p/22628428044)

17.[(12 封私信 / 6 条消息) 为什么我们在机器人运动控制中一直在强调力控？（Force/Torque Control） - 知乎](https://zhuanlan.zhihu.com/p/31811242)

18.[(12 封私信 / 6 条消息) 对于腿足式机器人三类主流关节驱动器性能的对比讨论 - 知乎](https://zhuanlan.zhihu.com/p/32267807)

19.[(12 封私信 / 6 条消息) MIT Mini Cheetah 的驱动与结构原理解读以及对尺寸效应的思考 - 知乎](https://zhuanlan.zhihu.com/p/58077049)

